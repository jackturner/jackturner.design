$(function(){$("#life");var t=$("#cords"),e=($("body"),$("#timeline")),n=$("#events .event"),o=moment("1981-08-01T15:00").unix(),i=moment().unix()-o,r=!1,c=t.width(),s=c/2;n.each(function(){var t=(moment($(this).find("time").attr("datetime")).unix()-o)/i*100;$("<div class='marker' />").css("bottom",t+"%").appendTo(e)});var l=e.children(".marker"),a=function(){var o=$(window).scrollTop(),i=e.position().top,a=e.height();l.each(function(e,l){var d=n.eq(e),m=t.eq(e),u=a+(i-$(this).position().top),h=d.offset().top-o+17,f="M0 "+u+" C "+s+" "+u+", "+(c-s)+" "+h+", "+c+" "+h;(function(t){"function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var e=t.getBoundingClientRect();return e.top<=0&&e.bottom>=0||e.bottom>=(window.innerHeight||document.documentElement.clientHeight)&&e.top<=(window.innerHeight||document.documentElement.clientHeight)||e.top>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)})(d)&&m.addClass("visible"),r?t.eq(e).attr({d:f}):t[0].innerHTML+='<path d="'+f+'" stroke="#000" fill="transparent"/>'}),o<20&&t.removeClass("visible"),r||(t=t.find("path"),r=!0)};const d=new IntersectionObserver(function(t){t.forEach(t=>{t.target.classList.toggle("is-visible")})});document.querySelectorAll(".show-on-scroll").forEach(function(t){d.observe(t)}),a(),$(window).scroll(a).resize(a)});